<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Pareto - Efficient Point{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        border: "hsl(var(--border))",
                        input: "hsl(var(--input))",
                        ring: "hsl(var(--ring))",
                        background: "hsl(var(--background))",
                        foreground: "hsl(var(--foreground))",
                        primary: {
                            DEFAULT: "hsl(var(--primary))",
                            foreground: "hsl(var(--primary-foreground))",
                        },
                        secondary: {
                            DEFAULT: "hsl(var(--secondary))",
                            foreground: "hsl(var(--secondary-foreground))",
                        },
                        destructive: {
                            DEFAULT: "hsl(var(--destructive))",
                            foreground: "hsl(var(--destructive-foreground))",
                        },
                        muted: {
                            DEFAULT: "hsl(var(--muted))",
                            foreground: "hsl(var(--muted-foreground))",
                        },
                        accent: {
                            DEFAULT: "hsl(var(--accent))",
                            foreground: "hsl(var(--accent-foreground))",
                        },
                        popover: {
                            DEFAULT: "hsl(var(--popover))",
                            foreground: "hsl(var(--popover-foreground))",
                        },
                        card: {
                            DEFAULT: "hsl(var(--card))",
                            foreground: "hsl(var(--card-foreground))",
                        },
                    },
                }
            }
        }
    </script>
    <style>
        :root {
            --background: 0 0% 100%;
            --foreground: 222.2 84% 4.9%;
            --card: 0 0% 100%;
            --card-foreground: 222.2 84% 4.9%;
            --popover: 0 0% 100%;
            --popover-foreground: 222.2 84% 4.9%;
            --primary: 222.2 47.4% 11.2%;
            --primary-foreground: 210 40% 98%;
            --secondary: 210 40% 96%;
            --secondary-foreground: 222.2 47.4% 11.2%;
            --muted: 210 40% 96%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --accent: 210 40% 96%;
            --accent-foreground: 222.2 47.4% 11.2%;
            --destructive: 0 84.2% 60.2%;
            --destructive-foreground: 210 40% 98%;
            --border: 214.3 31.8% 91.4%;
            --input: 214.3 31.8% 91.4%;
            --ring: 222.2 84% 4.9%;
        }

        .dark {
            --background: 222.2 84% 4.9%;
            --foreground: 210 40% 98%;
            --card: 222.2 84% 4.9%;
            --card-foreground: 210 40% 98%;
            --popover: 222.2 84% 4.9%;
            --popover-foreground: 210 40% 98%;
            --primary: 210 40% 98%;
            --primary-foreground: 222.2 47.4% 11.2%;
            --secondary: 217.2 32.6% 17.5%;
            --secondary-foreground: 210 40% 98%;
            --muted: 217.2 32.6% 17.5%;
            --muted-foreground: 215 20.2% 65.1%;
            --accent: 217.2 32.6% 17.5%;
            --accent-foreground: 210 40% 98%;
            --destructive: 0 62.8% 30.6%;
            --destructive-foreground: 210 40% 98%;
            --border: 217.2 32.6% 17.5%;
            --input: 217.2 32.6% 17.5%;
            --ring: 212.7 26.8% 83.9%;
        }
        
        .current-tier {
            font-weight: 700;
            background: #fbbf24;
            color: #1f2937;
            border-radius: 6px;
            padding: 2px 8px;
            position: relative;
            cursor: help;
        }
        
        .dark .current-tier {
            background: #f59e0b;
            color: #1f2937;
        }
        
        .tier-tooltip {
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%) translateX(8px);
            background: #1f2937;
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 11px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.15s ease;
            z-index: 9999;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }
        
        .current-tier:hover .tier-tooltip {
            opacity: 1;
        }
        
        .tier-tooltip::after {
            content: '';
            position: absolute;
            right: 100%;
            top: 50%;
            transform: translateY(-50%);
            border: 5px solid transparent;
            border-right-color: #1f2937;
        }
        
        .provider-exceeds-tiers {
            position: relative;
        }

        /* Line clamp utilities */
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .provider-exceeds-tiers::after {
            content: '⚠';
            position: absolute;
            left: 6px;
            top: 50%;
            transform: translateY(-50%);
            color: #f59e0b;
            font-size: 14px;
            line-height: 1;
        }
        
        .provider-exceeds-tiers::before {
            content: 'Exceeding maximum tier - using highest tier pricing';
            position: absolute;
            left: calc(100% + 8px);
            top: 50%;
            transform: translateY(-50%);
            opacity: 0;
            visibility: hidden;
            z-index: 9999;
            background: #1f2937;
            color: #f9fafb;
            font-size: 12px;
            line-height: 1.3;
            padding: 8px 10px;
            border-radius: 6px;
            white-space: nowrap;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -4px rgba(0, 0, 0, 0.2);
            transition: opacity 0.15s ease;
            pointer-events: none;
        }
        
        .provider-exceeds-tiers:hover::before {
            opacity: 1;
            visibility: visible;
        }

        /* Process Navigation Graph Styles */
        .process-nav-node {
            transition: all 0.2s ease-in-out;
        }

        .process-nav-node:hover {
            fill: #f1f5f9;
        }

        /* Animated connection lines */
        @keyframes dash-move {
          from {
            stroke-dashoffset: 0;
          }
          to {
            stroke-dashoffset: -20;
          }
        }

        .animated-connection {
          animation: dash-move 1s linear infinite;
        }

        .temp-connection {
          pointer-events: none;
          opacity: 0.8;
        }

        /* Connection hit area hover effect */
        .connection-hit-area:hover + .animated-connection {
          stroke: #10b981;
          stroke-width: 3;
        }

        /* Smooth transitions for nodes and ports */
        .process-node {
          transition: all 0.2s ease-in-out;
        }

        .connection-port {
          transition: all 0.15s ease-in-out;
        }

        /* Subtle pulse animation for new nodes/ports */
        @keyframes subtle-pulse {
          0%, 100% {
            opacity: 1;
          }
          50% {
            opacity: 0.8;
          }
        }

        .port-pulse {
          animation: subtle-pulse 2s ease-in-out infinite;
        }

        /* Connection mode button hover effect */
        #connectionModeBtn:hover {
          transform: translateY(-1px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
    </style>
</head>
<body class="bg-background text-foreground min-h-screen flex flex-col">
    <!-- Header -->
    <header class="border-b bg-card shadow-sm">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <h1 class="text-2xl font-bold text-primary">Pareto</h1>
                <nav class="flex items-center space-x-6">
                    <a href="/" class="text-muted-foreground hover:text-foreground transition-colors">Home</a>
                    <a href="/contracts" class="text-muted-foreground hover:text-foreground transition-colors">Contracts</a>
                    <a href="/products" class="text-muted-foreground hover:text-foreground transition-colors">Products</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 p-6">
        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="border-t bg-card">
        <div class="container mx-auto px-4 py-6">
            <div class="flex justify-center">
                <p class="text-muted-foreground text-sm">© <span id="currentYear"></span> Pareto. Efficient point for productivity.</p>
            </div>
        </div>
    </footer>

    <script>
        // Set current year dynamically
        document.getElementById('currentYear').textContent = new Date().getFullYear();
    </script>

</body>
</html>